<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--引入react核心库-->
    <script src="../js/react.development.js"></script>
    <!--引入react-dom,用于支持react操作dom-->
    <script src="../js/react-dom.development.js"></script>
    <!--引入babel，用于将jsx转为js-->
    <script src="../js/babel.min.js"></script>

    <title>生命周期</title>
</head>

<body>
    <!--准备好一个容器-->
    <div id="mydiv"></div>
</body>
<script type="text/babel">
    /*
    1.初始化阶段：由ReactDOM.render()触发
        1.constructor
        2.componentWillMount
        3.render
        4.componentDidMount 这个做初始化的事
    
    2.更新阶段
    3.卸载组件
        1.componentWillUnmount 做一些收尾
    */
    // 1. 创建组件
    class Life extends React.Component {
        // 注册状态
        state = { count: 1 }

        add = () => {
            // 获取原来的状态
            const { count } = this.state
            // 更新状态
            this.setState({ count: count + 1 })
        }


        render() {
            const { count } = this.state
            return (
                <div>
                    <h1>{count}</h1>
                    <button onClick={this.add}>点我+1</button>
                </div >
            )
        }
    }

    // 2. 渲染组件
    ReactDOM.render(<Life />, document.getElementById("mydiv"))
</script>

</html>